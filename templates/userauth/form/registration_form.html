{% load static %}
{% load widget_tweaks %}
<form method = "POST" class="login100-form validate-form" id="register_form">
    {% csrf_token %}
    <span class="login100-form-logo">
        <img alt="" src="{% static '/assets/img/logo-2.png' %}">
    </span>
    <span class="login100-form-title p-b-34 p-t-27">
        Registration
    </span>

    <div class="row">
        <div class="col-lg-6 p-t-20">
            <div class="wrap-input100 validate-input" data-validate="Enter first name">
                {% render_field form.first_name class="input100 field-input" placeholder="First name" %}
                <span class="focus-input100 error-label error_font"   data-placeholder="&#xf207;" ></span> 
                {% comment %} <span class="error-messge">{{ form.first_name.errors }}</span> {% endcomment %}
            </div>
        </div>

        <div class="col-lg-6 p-t-20">
            <div class="wrap-input100 validate-input" data-validate="Enter last name">
                {% render_field form.last_name class="input100 field-input" placeholder="Last name" %}
                <span class="focus-input100 error-label error_font"   data-placeholder="&#xf207;" ></span> 
                {% comment %} <span class="error-messge">{{ form.last_name.errors }}</span> {% endcomment %}
            </div>

        </div>
        <div class="col-lg-6 p-t-20">
            <div class="wrap-input100 validate-input" data-validate="Enter email">
                {% render_field form.email class="input100 field-input" placeholder="Email" %}
                <span class="focus-input100 error-label error_font"   data-placeholder="&#9993;" ></span> 
                {% comment %} <span class="error-messge">{{ form.email.errors }}</span> {% endcomment %}
            </div>
        </div>
        <div class="col-lg-6 p-t-20">
            <div class="wrap-input100 validate-input" data-validate="Enter phone number">
                {% render_field form.phone_number maxlength="10" oninput="validateInput(this)" class="input100 field-input" placeholder="Phone number" %}
                <span class="focus-input100 error-label error_font"   data-placeholder="&#9743;" ></span> 
                {% comment %} <span class="error-messge">{{ form.phone_number.errors }}</span> {% endcomment %}
            </div>

        </div>
        <div class="col-lg-6 p-t-20">
            <div  class="wrap-input100 validate-input" data-validate="Enter password">
                {% render_field form.password class="input100 field-input" placeholder="Password" %}
                    <span class="focus-input100 error-label error_font" data-placeholder="&#xf191;" ></span> 
                    {% comment %} <span class="error-messge">{{ form.password.errors }}</span> {% endcomment %}
                    

            </div>
          
        </div>
        
        <div class="col-lg-6 p-t-20">
            <div class="wrap-input100 validate-input" data-validate="Enter confirm password">
                {% render_field form.confirm_password class="input100 field-input" placeholder="Confirm password" %}
                <span class="focus-input100 error-labe error_fontl"   data-placeholder="&#xf191;" ></span> 
                {% comment %} <span class="error-messge">{{ form.confirm_password.errors }}</span> {% endcomment %}
                
            </div>
         
        </div>
        <!-- <div class="col-lg-6 p-t-20">
            <span class="error-messge" style="color: red; display: none;" id="id_phone_number_error">Please enter 10 digits</span>
        </div> -->
        {% if form.errors %}
        <div class="col-lg-12 p-t-20">
            {% for field in form %}
            <ol style="color: red; font-size:14px" >
                {% for error in field.errors %}
                    <li>{{ error|escape }}</li>
                    {% comment %} <span style="color: red;">
                        {{ error | escape }}
                    </span> {% endcomment %}
                {% endfor %}
            </ol>
            {% endfor %}            
        </div>
        {% endif %}
 

        <div class="error-msg" id="id_password_error">
            <p ></p>
        </div>
        <div class="error-msg" id="id_password2_error">
            <p></p>
        </div>
    </div>
    <br>
    <div class="container-login100-form-btn">
        <button type="submit" class="login100-form-btn">
            Register
        </button>
    </div>
    <div class="text-center p-t-30">
        <a class="txt1" href="{% url 'user_auth:login' %}">
            Login
        </a>
    </div>
</form>

<script>
  function validateInput(input) {
    input.value = input.value.replace(/\D/g, '');
    if (input.value.length > 10) {
      input.value = input.value.slice(0, 10);
    }
  }

{% comment %} var alphanumericRegex = /^(?=.*[A-Z])(?=.*[@?...])(?=.*\d).{7,}$/;

document.getElementById('id_password').addEventListener('keyup', function() {
    var password = document.getElementById('id_password').value;
    var passwordError = document.getElementById('id_password_error');
    checkStrength(password, passwordError);
});

function checkStrength(password, errorElement) {
    var isValid = alphanumericRegex.test(password);

    if (!isValid) {    
        errorElement.innerHTML = '<p style="color: #ff1313;">Choose a strong Password.</p>';
    }else{
        errorElement.innerHTML = ''
    }
}

document.getElementById('id_confirm_password').addEventListener('keyup', function() {
var password1 = document.getElementById('id_password').value;
var password2 = document.getElementById('id_confirm_password').value;
var password2Error = document.getElementById('id_password2_error');
var password2Input = document.getElementById('id_confirm_password');

if (password1 !== password2) {
    password2Error.innerHTML = '<p style="color: #ff1313;">Password does not match!</p>';
    password2Input.style.border = '1px solid #ff1313';
} else {
    password2Error.innerHTML = '';
    password2Input.style.border = '1px solid #000';
}
}); {% endcomment %}



</script>